a r t i c l e	i n f oArticle history:Received 18 July 2020Received in revised form 8 September 2020Accepted 1 October 2020 Available online 8 October 2020JEL classification:C72C73 D72 E42Keywords:BlockchainProof-of-workNash equilibriumSubgame perfectionSelfish mininga b s t r a c tThis paper studies the dynamic construction of a blockchain by competitive miners. In contrast to the literature, we assume a finite time horizon. Moreover, miners are rewarded for blocks that eventually become part of the longest chain. It is shown that popular mining strategies such as adherence to conservative mining or to the longest-chain rule constitute pure-strategy Nash equilibria. However, these equilibria are not subgame perfect.© 2020 The Author. Published by Elsevier B.V. This is an open access article under the CC BY license (http://creativecommons.org/licenses/by/4.0/).   
1. Introduction   Since the introduction of the bitcoin consensus protocol by Nakamoto (2009), blockchains have fascinated scholars from a variety of disciplines. The game-theoretic analysis of dynamic consensus protocols has, consequently, gained substantial momentum over the last decade. In an important recent contribution, Biais et al. (2019) proposed modeling the construction of a blockchain as a stochastic game in continuous time with infinite horizon and possibly incomplete information. Their sophisticated framework allows a wealth of interesting conclusions. Here, we will try a related, but more elementary analysis.   Specifically, in this paper, we model the construction of a blockchain as an extensive-form game with finite time horizon T. In each stage, the population of n miners (or mining pools) strives to append the respective next block to the existing blockchain. Thus, starting from the so-called genesis block, the blockchain develops in a stochastic manner. Miners are assumed to earn one ÔÔtokenÕÕ for any block that is contained in the longest chain at the end of the game.1 Now, being able to choose a parent block ad  ? The manuscript has benefited from helpful remarks received from an anonymous referee and the Editor. For useful discussions and comments on the material contained in this paper, I would like to thank participants of the 2020 Summer School ÔÔDeep Dive into Blockchain,ÕÕ organized by the UZH Blockchain Center.	E-mail address:	christian.ewerhart@econ.uzh.ch.  1 Should there be more than one longest chain at the end of the game, one such chain is chosen randomly.https://doi.org/10.1016/j.econlet.2020.109614libitum, miners may intentionally try to create forks. A conservative miner always appends any new block to the original chain, i.e., to the chain that contains the first child block of the genesis block, thereof the first child block, and so on. We also consider the class of mining strategies that follow the longest-chain rule, i.e., that append any new block to one of the longest chains in the blockchain. We confirm that conservative mining and, in fact, any combination of strategies consistent with the longest-chain rule, form Pareto efficient Nash equilibria. However, we also show that, under the assumptions made below, these equilibria are not subgame perfect (Selten, 1965). This contrasts with findings of the recent literature that has found such strategies to be consistent even with the more restrictive concept of Markov perfect equilibrium.   The rest of the paper is organized as follows. Section 2 recalls the formal definition of a blockchain. Section 3 introduces finite blockchain games. We establish the Nash equilibrium property of conservative mining and longest-chain mining in Section 4. Section 5 discusses the lack of subgame perfection. Section 6 concludes.2. Formal model of the blockchain0165-1765/© 2020 The Author. Published by Elsevier B.V. This is an open access article under the CC BY license (http://creativecommons.org/licenses/by/4.0/).   Suppose there are n ³ 2 miners, collected in a set N = {1,..., n}. We will use the following model of a blockchain (cf. Biais et al., 2019).Fig. 1. A blockchain.Definition 1. A blockchain B consists of (i) a sequence of blocks B = {b0, b1,..., bT}, where T ³ 0;(ii) a parentÐchild relation ? on B; (iii) an assignment map ? : B\{b0} ? N.   Thus, a blockchain B consists of (T + 1) blocks, where T is the time horizon. The block b0 is referred to as the genesis block. Any two blocks may be related to each other by a parentÐchild relationship. Finally, each block except the genesis block has a miner assigned to it. An example of a blockchain is shown in Fig. 1. The numbers close to the circles are the respective miner assignments.   We will impose the following two additional requirements: (a) each block except the genesis block b0 has precisely one parent, i.e., for any t? > 0, there is precisely one t such that bt ? bt?;(b) the parent has a lower index than the child, i.e., bt ? bt? implies t < t?.Popular mining strategies are based on the notion of a chain.A chain of length K ³ 1 in the blockchain B is a set C = {b(0),..., b(K)} such that b(k?1) ? b(k) for k = 1,..., K. The original chain starts at b0 and, if there is more than one child to a given parent, continues with the child with the lowest index. E.g., in the example shown in Fig. 1, the original chain is Corg = {b0, b1, b2, b4}. A longest chain is a chain in blockchain B for which K is maximal. Clearly, any longest chain starts at b0. If a longest chain is unique, it is referred to as the longest chain in B. In the example shown in Fig. 1, there are two longest chains, viz. C1 = {b0, b1, b3, b6, b7} and C2 = {b0, b1, b2, b5, b8}.3. Finite blockchain games   Suppose the n miners incrementally construct a blockchain B by interacting over T ³ 1 stages. We denote the intermediate blockchains as B0,B1,...,BT. At the start of the game, B0 consists only of the genesis block, so that B0 = {b0}, and both ?0 and ?0 are empty. Next, at any intermediate stage t ? {1, 2,..., T}, Bt is constructed from the existing blockchain Bt?1 as follows. Each miner i ? N selects a blocköbt?1(i) ? Bt?1 from the existing set of blocks Bt?1. Then, a fair random draw selects the winning miner i?t ? N of stage t.1 The new block bt is assigned to i?t . Moreover, it is appended as a child to the blocköbt) chosen by the winning miner. Fig. 2 illustrates the incremental build-up process of the blockchain.   MinersÕ payoffs are determined as follows. After stage T, one of the longest chains C in the blockchain BT is drawn with equal probability. Each miner i ? N receives one token for each block b ? C\{b0} assigned to her. Miners are risk-neutral and maximize the expected number of tokens they receive.   The stochastic game introduced above will be referred to as a finite n-miner blockchain game. Note that, given the possibility of forking and orphan blocks, the game is not constant-sum, i.e., there are gains from coordination.4. Mining strategies   As the action space of the miners is expanding over time, there is an abundance of pure strategies in the extensive form. Two popular mining strategies, however, are easy to describe. We say that miner i is conservative if she always chooses the last block of the original chain. Further, we say that miner i follows the longest-chain rule if she always chooses the last block of one of the longest chains. Note that the longest-chain rule is a class of strategies, rather than a single strategy.   We start by studying Nash equilibrium (Nash, 1950). The following result says that conservative mining, and likewise following the longest-chain rule, constitute Nash equilibria in pure strategies.Proposition 1. Conservative mining constitutes a symmetric Nash equilibrium. Similarly, any profile of strategies consistent with the longest chain rule constitutes a Nash equilibrium.Proof (Conservative Mining). Suppose that all miners j ? N\{i} are conservative. We have to show that miner i has no strict incentive to deviate from conservative mining. Assume first that i adheres to the candidate equilibrium strategy. Then, the blockchain develops into a single chain consisting of (T + 1) blocks, and miner i receives one token for each block she mined. Assume, instead, that miner i deviates and works, at some stage t, on a block that is not the last block of the original chain. Then, miner i creates a fork when she wins that stage, i.e., with positive probability. As a result, she does not necessarily receive one token for each block that she mined. Thus, miner i potentially lowers, but never raises her payoff. Therefore, a deviation from conservative mining can never lead to a strictly higher expected payoff for miner i. (Longest-chain mining) The proof is entirely analogous and, hence, omitted. ?5. Lack of subgame perfection   In this section, it will be shown using two examples that the considered Nash equilibria need not constitute a subgame-perfect equilibrium (Selten, 1965). We begin with the conservative mining equilibrium.Example 1 (Conservative Mining). Consider a blockchain game with n = 2 miners and T = 3 stages. Fig. 3 shows a possible state of the blockchain B2, i.e., at the end of stage 2.   In this example, miner 1 deviated from the conservative mining strategy at stage 2, mining on b0 rather than on b1. Thus, we are in a subgame that cannot be reached if all miners followed their candidate equilibrium strategy. Now, at the outset of stage T = 3, the last block of the original chain is b1. However, it is optimal here for miner 1 to work on b2 because this allows her, with probability 1/2, to realize a token for the block b2.   Thus, conservative mining is not subgame-perfect. But neither is the longest-chain rule, as the next example shows.Example 2 (Longest-chain Rule). Consider a blockchain game with n = 3 miners and horizon T = 6. Fig. 4 shows a state of the blockchain B5, i.e., at the end of stage 5. The fork implies that we are, again, off the equilibrium path. At the final stage T = 6, miner i = 1 would work on b3, because this allows her to win three tokens with probability 1/2 in the case that she wins the last stage. In contrast, working on b5 and thereby following the longest-chain rule would allow her to win one token with probability one in the case that she wins the last stage, which is strictly less in expectation. Thus, in the subgame, miner 1 has a strict incentive to deviate from the longest-chain rule.Fig. 2. Blockchain construction.Fig. 3. Conservative mining is not subgame-perfect.Fig. 4. The longest-chain rule is not subgame-perfect.   It should be clear that these examples are not exceptional, but represent a more general problem. In particular, it is not difficult to construct, in both cases, similar examples with an arbitrarily long (but not shorter) time horizon.   Usually, the lack of subgame perfection is associated with the concept of a non-credible threat. This lack of credibility is particularly evident in the case of conservative mining. Indeed, there is intuitively little value in following the original chain once a fork has developed into a much longer chain. As our analysis has shown, the same lack of credibility is also present, but less evident, in the case of the longest-chain rule.6. Concluding remarks   Under the assumptions on timing and payoffs used by Biais et al. (2019), conservative mining constitutes a subgame-perfect (and even Markov perfect) equilibrium in which players follow the longest-chain rule on the equilibrium path.2 Given that we heralded our framework as a simplified version of Biais et al. (2019), some discussion seems warranted.   One possible explanation lies in the different assumptions on timing. Indeed, Biais et al. (2019) assumed an infinite horizon, with individual miners being forced to exit at Poisson stopping times. In contrast, our model assumes a finite horizon.3 A second possible explanation lies in the different assumptions on payoffs. Specifically, Biais et al. (2019) assumed that miners receive, for each block they have solved, a reward equal to G(k), where k denotes the number of miners active, at the minerÕs exit time, on the branch that contains the block. Importantly, Biais et al. (2019) assumed G(0) = G(1) = 0. Thus, blocks in orphan branches, on which no miner (or only one miner) is active, are worthless. In contrast, we assume that miners receive rewards for blocks mined on the longest chain at the end of the game. As shown above, these differences in assumptions do have an impact on the analysis of profitable deviations off the equilibrium path. Unfortunately, however, the precise way in which this happens is not easy to disentangle on a purely analytical basis.   On a more intuitive level, however, both models capture the interplay between the minersÕ coordination problem on the one hand and the problem of vested interests on the other. Moreover, while the assumptions used by Biais et al. (2019) give more weight to the coordination problem, our assumptions give more weight to the problem of vested interests. For instance, in Example 2, the assumptions in Biais et al. (2019) would intuitively allow miner 1 to give up her prior investments. In contrast, our assumptions would let miner 1 try to realize a yield from her earlier investments. As a result of this stronger emphasis of the problem of vested interests, conservative mining is less likely to satisfy the assumptions of subgame perfection off the equilibrium path in our model than in Biais et al. (2019).4   Finally, we compare our findings to Eyal and SirerÕs (2018) decision-theoretic analysis of a rational miner interacting with a population of na•ve miners. They pointed out that selfish mining, i.e., withholding one or several blocks, may dominate na•ve longest-chain mining because it allows the rational miner to bias the mining contest for later blocks in her favor. In our model, there is no possibility for mining in secrecy, so that the approaches differ in at least one important dimension. Notwithstanding, selfish mining clearly seems related to the issues discussed in the present paper, and having a unifying framework would obviously be quite valuable.ReferencesBiais, B., Bisiere, C., Bouvard, M., Casamatta, C., 2019. The blockchain folk theorem. Rev. Financ. Stud. 32 (5), 1662Ð1715.Dimitri, N., 2017. Bitcoin mining as a contest. Ledger 2, 31Ð37.Eyal, I., Sirer, E.G., 2018. Majority is not enough: bitcoin mining is vulnerable. Commun. ACM 61 (7), 95Ð102.Nakamoto, S., 2009. Bitcoin: A peer-to-peer electronic cash system. https://Bitcoin.org/Bitcoin.pdf.Nash, J.F., 1950. Equilibrium points in n-person games. Proc. Natl. Acad. Sci. 36 (1), 48Ð49.Selten, R., 1965. Spieltheoretische Behandlung eines Oligopolmodells mit NachfragetrŠgheit, Teil I: Bestimmung des dynamischen PreisÐGleichgewichts. J.Inst. Theor. Econ. 121 (2), 301Ð324.  1 The random draw may be understood as a reduced form of the equilibrium in a static model of mining competition such as Dimitri (2017).  2 For example, in our Example 2, all miners working on block b5, respectively, would be part of a subgame-perfect equilibrium under the assumptions of Biais et al. (2019).  3 If the two models differed only in the length of the time horizon, this would imply a discontinuity in the subgame-perfect equilibrium correspondence, just as known from the theory of repeated games.  4 Indeed, the analysis naturally raises the question of how subgame-perfect equilibria might look like in the class of finite blockchain games. As this question has no straightforward solution, however, it will be left for future work.  ---------------     ------------------------------------------------------------      ---------------      ------------------------------------------------------------   C. Ewerhart	Economics Letters 197 (2020) 109614   C. Ewerhart	Economics Letters 197 (2020) 109614   2   2         